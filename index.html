<!DOCTYPE html5>
<html>
    <head>
        <script type="text/javascript" src="dance.js"></script>
        <script type="text/javascript">
var d1;
var x;
var clk;
var p1, p2, p3;
var s1, s2;

function init(){
    clk = new clock();
    clk.speed = 16;
    

    d1 = new dancer(400, -400, 0, clk);
    
    var wu = warmup();
    d1.seq.addseq(beat(0, 1, 4), [0, 0, 0], wu);

    clk.run(beat(0, 1, 4), beat(8, 1, 4), true);

}

function walk()
{
    var bh = new sequence();
    bh.addstep(beat(0, 1, 4), [0, 0, 0], 'r', 'ball');
    bh.addstep(beat(0, 2, 4), null, 'r', 'heel');
    var walk = new sequence();
    walk.addseq(beat(0, 1, 4), [0, 0, 0], bh, false);
    walk.addseq(beat(0, 3, 4), [0, 0, 0], bh, true);
    walk.addseq(beat(1, 1, 4), [0, 0, 0], bh, false);
    walk.addseq(beat(1, 3, 4), [0, 0, 0], bh, true);
    walk.addpoint(beat(0, 1, 4), 0, 0, null, null, null);
    walk.addpoint(beat(2, 1, 4), 200, 200, null, null, null);
    return walk;
}

function warmup()
{
    base = new sequence(); //2/4
    base.addstep(beat(0, 1, 8), [0, 20, 0], 'r', 'dig'),
    base.addstep(beat(0, 2, 8), [0, 10, 0], 'r', 'touch'),
    base.addstep(beat(0, 3, 8), [0,  0, 0], 'r', 'ball'),
    base.addstep(beat(0, 4, 8), null      , 'r', 'heel'),

    move  = new sequence(); //1/4
    move.addstep(beat(0, 1, 8), [0,  0, 0], 'l', 'ball'),
    move.addstep(beat(0, 2, 8), null      , 'l', 'heel'),

    static = new sequence(); //2
    static.addseq(beat(0, 1, 4), [0, 0, 0], base, false);
    static.addseq(beat(0, 3, 4), [0, 0, 0], base, true);
    static.addseq(beat(1, 1, 4), [0, 0, 0], base, false);
    static.addseq(beat(1, 3, 4), [0, 0, 0], base, true);

    travel = new sequence(); //2
    travel.addseq(beat(0, 1, 4), [0, 0, 0], base, false);
    travel.addseq(beat(0, 3, 4), [0, 0, 0], move, false);
    travel.addseq(beat(0, 4, 4), [0, 0, 0], base, false);
    travel.addseq(beat(1, 2, 4), [0, 0, 0], move, false);
    travel.addseq(beat(1, 3, 4), [0, 0, 0], base, false);
    travel.addpoint(beat(0, 3, 4), 0, 0, 0, null, null);
    travel.addpoint(beat(1, 3, 4), -100, 0, 0, null, null);

    warmup = new sequence(); //8
    warmup.addseq(beat(0, 1, 4), [0, 0, 0], static, false);
    warmup.addseq(beat(2, 1, 4), [0, 0, 0], travel, false);
    warmup.addseq(beat(4, 1, 4), [0, 0, 0], static, true);
    warmup.addseq(beat(6, 1, 4), [0, 0, 0], travel, true);
    return warmup;
}
    

function loop()
{
}

function loader(data)
{
    console.log("data loaded");
    parsejson(data);
}
        </script>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body onload="init();">
        now: <span id="now">N/A</span>
        <!--<input type="file" id="loader" name="loader"/>-->
    </body>
</html>
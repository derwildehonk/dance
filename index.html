<!DOCTYPE html5>
<html>
    <head>
        <script type="text/javascript" src="dance.js"></script>
        <script type="text/javascript">
var d1;
var x;
var clk;
var p1, p2, p3;
var s1, s2;

function init(){
    clk = new clock();
    clk.speed = 32;
    
    s1 = new sequence();
    s1.steps.push(
        new step(beat(0,  1,  8), 'r',  0, 30,  0, 'shuf'),
        new step(beat(0,  2,  8), 'r',  0, 40,  0, 'ball'),
        new step(beat(0,  3,  8), 'l',  0, 20,  0, 'step'),
        new step(beat(0,  4,  8), 'r',  0, 40,  0, 'stomp'), //stomp
        new step(beat(0,  5,  8), 'l',  0,  0,  0, 'step'),
        new step(beat(0,  6,  8), 'r', 60, 15, 70, 'shuf'),
        new step(beat(0,  7,  8), 'r', 60,  0, 70, 'shuf'),
        new step(beat(0,  8,  8), 'r',  0,  0,  0, 'step')
    );

    s2 = new sequence();
    s2.steps.push(
        new step(beat(0, 1, 8), 'r', 0, 20, 0, 'dig'),
        new step(beat(0, 2, 8), 'r', 0, 10, 0, 'touch'),
        new step(beat(0, 3, 8), 'r', 0, 0, 0, 'ball'),
        new step(beat(0, 4, 8), 'r', 0, 0, 0, 'heel'),
        new step(beat(0, 5, 8), 'l', 0, 20, 0, 'dig'),
        new step(beat(0, 6, 8), 'l', 0, 10, 0, 'touch'),
        new step(beat(0, 7, 8), 'l', 0, 0, 0, 'ball'),
        new step(beat(0, 8, 8), 'l', 0, 0, 0, 'heel')
    );

    s3 = new sequence();
    s3.steps.push(
        new step(beat(0, 1, 8), 'r', 0, 20, 0, 'dig'),
        new step(beat(0, 2, 8), 'r', 0, 10, 0, 'touch'),
        new step(beat(0, 3, 8), 'r', 0, 0, 0, 'ball'),
        new step(beat(0, 4, 8), 'r', 0, 0, 0, 'heel'),
        new step(beat(0, 5, 8), 'l', 0, 0, 0, 'ball'),
        new step(beat(0, 6, 8), 'l', 0, 0, 0, 'heel'),
        new step(beat(0, 7, 8), 'r', 0, 20, 0, 'dig'),
        new step(beat(0, 8, 8), 'r', 0, 10, 0, 'touch'),
        new step(beat(1, 1, 8), 'r', 0, 0, 0, 'ball'),
        new step(beat(1, 2, 8), 'r', 0, 0, 0, 'heel'),
        new step(beat(1, 3, 8), 'l', 0, 0, 0, 'ball'),
        new step(beat(1, 4, 8), 'l', 0, 0, 0, 'heel'),
        new step(beat(1, 5, 8), 'r', 0, 20, 0, 'dig'),
        new step(beat(1, 6, 8), 'r', 0, 10, 0, 'touch'),
        new step(beat(1, 7, 8), 'r', 0, 0, 0, 'ball'),
        new step(beat(1, 8, 8), 'r', 0, 0, 0, 'heel')
    );
    s3.curve.addpoint(beat(0, 0, 4), 0, 0, null, null);
    s3.curve.addpoint(beat(1, 1, 8), 0, 0, null, null);
    s3.curve.addpoint(beat(1, 8, 8), -100, 0, null, null);

    s4 = new sequence();
    s4.steps.push(
        new step(beat(0, 1, 4), 'r', 0, 0, 0, 'step'),
        new step(beat(0, 2, 4), 'l', 0, 0, 0, 'step'),
        new step(beat(0, 3, 4), 'r', 0, 0, 0, 'step'),
        new step(beat(0, 4, 4), 'l', 0, 0, 0, 'step'),
        new step(beat(1, 1, 4), 'r', 0, 0, 0, 'step'),
        new step(beat(1, 2, 4), 'l', 0, 0, 0, 'step'),
        new step(beat(1, 3, 4), 'r', 0, 0, 0, 'step'),
        new step(beat(1, 4, 4), 'l', 0, 0, 0, 'step')
    );
    s4.curve.addpoint(beat(0, 1, 4), 0, 0, null, null);
    s4.curve.addpoint(beat(0, 3, 4), 0, 0, null, null);
    s4.curve.addpoint(beat(1, 4, 4), 300, 400, null, null);

    d1 = new dancer(400, -400, 0, clk);
    //d1.addseq(0, 0, 0, 0, s1, false);
    //d1.addseq(0, 0, 0, beat(1, 0, 4), s1, true);
    d1.addseq(0, 0, 0, beat(0, 0, 4), s2, false);
    d1.addseq(0, 0, 0, beat(1, 0, 4), s2, false);
    d1.addseq(0, 0, 0, beat(2, 0, 4), s3, false);
    d1.addseq(0, 0, 0, beat(4, 0, 4), s2, true);
    d1.addseq(0, 0, 0, beat(5, 0, 4), s2, true);
    d1.addseq(0, 0, 0, beat(6, 0, 4), s3, true);//*/
    //d1.addseq(0, 0, 0, 0, s4, false);

    clk.run(beat(0, 1, 4), beat(8, 0, 4), true);

}

function loop()
{
}

function loader(data)
{
    console.log("data loaded");
    parsejson(data);
}
        </script>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body onload="init();">
        now: <span id="now">N/A</span>
        <!--<input type="file" id="loader" name="loader"/>-->
    </body>
</html>